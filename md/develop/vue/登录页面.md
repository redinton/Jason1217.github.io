

[TOC]





### 登录

* 检查状态：进入页面时或者**路由变化时**先**判断**是否有登录状态(保存在`cookie`或者`本地存储`的值)；

* 如果有登录态则查询登录信息(uid，头像等...)并保存起来；如果没有则跳转到登录页；



#### 未登录情况

* 在登录页面（或者登录框），校检用户输入信息是否合法；（检测表单正则是否合法）

* 校检**成功**后发送登录请求；校检**不成功**则反馈给用户；

* 登录成功则从后端数据中取出`session`信息保存登录状态(可能需要跳转);登录不成功则提示用户不成功；

* 用户做出注销操作时删除登录状态。（判断cookie是否存在）



#### 已经登录情况

判断是否登录过，就是靠 *main.js* 里面的 checkLogin() 方法

我们需要检查状态：

1.用户打开页面时；

2.路由发生变化时；